# Fish Shell

## Installation

```bash
# Add repository
sudo apt-add-repository ppa:fish-shell/release-3
sudo apt update

# Install fish
sudo apt install fish -y

# Set as default shell
chsh -s $(which fish)
```

### Oh My Posh Setup

```bash
# Install Oh My Posh
curl -s https://ohmyposh.dev/install.sh | bash

# Setup Agnoster theme

wget https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/agnoster.omp.json -O ~/agnoster.omp.json

# Add to Fish config
fish_add_path ~/.local/bin
eval "$(~/.local/bin/oh-my-posh init fish --config ~/agnoster.omp.json)"
```

## Fish Configuration File

Add to `~/.config/fish/config.fish`:

```bash
# Check if the shell session is interactive
if status is-interactive
    # Commands specific to interactive sessions can go here.
end

# Bind tab key to accept-autosuggestion
bind \t accept-autosuggestion

# =========================================================================
# Fish Greeting
set -g fish_greeting "            There will be too much resistance at the room. You'll not be distracted, instead you'll distract yourself.
"

# Source additional aliases from an external file.
source ~/.config/fish/aliases.fish

# Reload the Fish shell configuration.
alias sf 'source ~/.config/fish/config.fish'

# =========================================================================
# Oh My Posh Initialization
# Initialize Oh My Posh with the specified theme configuration.
oh-my-posh init fish --config ~/agnoster.omp.json | source

# Alternative initialization for Oh My Posh with a cached theme configuration.
eval "$(~/.local/bin/oh-my-posh init fish --config ~/.cache/oh-my-posh/themes/agnoster.omp.json)"

# =========================================================================
# Environment variables
# Environment variable in fish "set -x PATH $PATH:/mnt..." (set -x VAR value) (export VAR=value - in bash/zsh).
# -x flag for child processes, and -gx flag for increase scope to global.

set -gx PATH $PATH /snap/bin # environment variable for neovim
set -x PATH $PATH:/mnt/c/Windows/System32 # env for ipconfig.exe | grep IPv4

# for using Windows path adb from Linux:
set -x PATH $PATH /mnt/c/tools/platform-tools

# =========================================================================
# sqlplus function with custom commands in c:\tools\commands.sql and 'cl scr and set linesize 100'
function sqlplus
    sshpass -p '12513365@Ms' ssh -t "vishal vishwakarma@vishal" "sqlplus system/tiger @C:\\tools\\commands.sql"
end
```

## TMUX Configuration

### Startup Script

Create `~/.tmux-start.sh`:

```bash
#!/bin/bash
tmux new-session \; split-window -h \; select-pane -L
```

### Auto-start TMUX

Add to `config.fish`:

```bash
if status is-interactive
and not set -q TMUX
    exec ~/.tmux-start.sh
end
```

### Common TMUX Commands

- `Ctrl + b %` - Vertical split
- `Ctrl + b →/←` - Navigate panes
- `Ctrl + b :resize-pane -L 15` - Resize pane
- Mouse support: `setw -g mouse on` in `.tmux.conf`
